{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the Electronic Workbook (EWB)","text":"<p>This EWB provides the step-by-step instructions to complete the AusCERT 2024 Security in an (Unmanaged) Azure Environment - A Practical Example workshop.</p>"},{"location":"#synopsis","title":"Synopsis","text":"<p>We've all been there. A team is lured by a shiny gadget or tool that promises to - and maybe actually does! - improve business outcomes and user satisfaction  while reducing cost, development time, and integration headaches, and so boldy forges ahead! So it is with the fictional organization that is at the heart of this workshop, where a group of developers have started building out Azure Microsoft Entra ID applications but haven't followed the organization's technical review or change control processes. And as a result, have potentially introduced operational and security issues into the production environment.</p> <p>In this workshop, we'll take on the role of a security architect that has been tasked with examining this unmanaged Azure environment by replicating and probing the environment for security issues, so that we can demonstrate security issues to the over-zealous developers and bring them back into the fold.</p>"},{"location":"#scenario","title":"Scenario","text":"<p>You are a security architect employed by Tyrell Corporation, a large multi-national organization. Tyrell Corp has embraced a multi-cloud cloud service provider (CSP) vendor strategy using AWS for customer-facing marketing and ordering, tracking, and delivery services; Microsoft Entra ID for on-premises infrastructure; and M365 subscriptions for employees to access Exchange Online, OneDrive, and other collaboration tools.</p> <p>Company executives embrace Microsoft products for their ease of use, and Microsoft Entra ID has been deeply integrated into the on-premises data center and remote offices. The CIO, CTO, and VP of Engineering have been pushing to take advantage of Tyrell Corp's existing Azure account and use the Microsoft Identity platform to synchronize with the existing corporate Microsoft Entra ID. Executives also want to investigate potential new applications in Azure.</p> <p>For these reasons, some developers have started building test Azure Microsoft Entra ID applications. However, the developers have not followed technical review or change control policies, and as a result there has not been any oversight involving the Information Security team. The CISO has ordered a security review into some of the recent development work and operational changes within the Azure environment, and has asked for recommendations on improved detection and logging capabilities within the Azure environment.</p> <p>You have been assigned the task of generating a test environment that replicates key aspects of Tyrell Corp's Microsoft Entra ID environment, exploring it for potential security issues, and reporting your findings.</p> <p>So that you can perform that task -- and as a trusted Security Architect and Engineer -- you have been granted the Global Administrator role in an Azure account. This grants you the ability to create and manage a new subscription, and access to all administrative features within the subscription's associated tenant.<sup>1</sup><sup>,</sup><sup>2</sup><sup>,</sup><sup>3</sup></p>"},{"location":"#labs","title":"Labs","text":"<p>The workshop is broken up into a series of 'mini labs' designed to take you through key activities: </p> <ul> <li>Azure Account Setup: Creating or accessing an Azure account and creating a subscription.</li> <li>Azure Environment Setup: Creating a test environment using PurpleCloud and Terraform.</li> <li>Manual Reconnaissance: Performing manual reconnaisance on the environment to identify service principals with excessive privileges.</li> <li>Privilege Escalation: Leveraging discovered service principals to escalate to Global Administrator, to demonstrate the security weakness.</li> <li>Teardown: Tearing down the test environment using Terraform and manual clean-up.</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<p>To execute the workshop steps yourself, you'll need:</p> <ul> <li> <p>A laptop or computer that is able to access the Internet, specifically Azure cloud services.</p> </li> <li> <p>Either:</p> <ul> <li>Access to an Azure account that you are willing to use to create, configure, and tear down an Azure subscription; or</li> <li>An email address not already associated with an Azure account, and willingness to follow the EWB instructions to set up an Azure account and subscription for that email address.</li> </ul> </li> </ul>"},{"location":"#caveats-disclaimers-and-alarums","title":"Caveats, Disclaimers, and Alarums","text":"The Ever-Changing Web <p>These instructions were successfully tested on 2024.05.15. That said, things are always changing on the Web. Some prompts or visual elements may be slightly different than are presented here, so you may have to make some minor adjustments on the fly. But the labs' step-by-step instructions should be sufficient to get you there!</p> <p>As one specific example: While Microsoft has renamed Azure Active Directory (AAD) to Microsoft Entra ID, some tools and resources - including some that we use and reference in these labs - still reference AAD. Some of those tools and resources will be updated over time to reference Entra ID, and you may notice those changes as you work through the labs.</p> Browser Support <p>You should be able to use any standard web browser. The Step-by-Step Instructions for all the workshop's labs have been tested in Google Chrome, Microsoft Edge, and Firefox; most of the screenshots are from Chrome and Firefox.</p>"},{"location":"#getting-started","title":"Getting Started!","text":"<p>To get started, continue to the Azure Account Setup lab!</p> <p>Credits</p> <p>This workshop is based on a series of bonus labs from the SANS course SEC530: Defensible Security Architecture and Engineering: Implementing Zero Trust for the Hybrid Enterprise.<sup>4</sup> Those labs were in turn based on a SANS blog post by Jason Ostrom,<sup>5</sup> and uses Jason's PurpleCloud tool.<sup>6</sup></p> <ol> <li> <p>Microsoft. (2024, March 15). Azure roles, Azure AD roles, and classic subscription administrator roles. Microsoft Learn. Retrieved May 17, 2024 from https://learn.microsoft.com/en-us/azure/role-based-access-control/rbac-and-directory-admin-roles.\u00a0\u21a9</p> </li> <li> <p>Microsoft. (2024, April 29). Azure AD built-in roles. Microsoft Learn. Retrieved May 17, 2024 from https://learn.microsoft.com/en-us/azure/active-directory/roles/permissions-reference.\u00a0\u21a9</p> </li> <li> <p>Microsoft. (2024, April 29). Azure AD built-in roles: Global Administrator. Microsoft Learn. Retrieved May 17, 2024 from https://docs.microsoft.com/en-us/azure/active-directory/roles/permissions-reference#global-administrator.\u00a0\u21a9</p> </li> <li> <p>SANS Institute. (n.d.) SEC530: Defensible Security Architecture and Engineering: Implementing Zero Trust for the Hybrid Enterprise. SANS. Retrieved May 18, 2024 from https://www.sans.org/cyber-security-courses/defensible-security-architecture-and-engineering/.\u00a0\u21a9</p> </li> <li> <p>Ostrom, Jason. (2021, June 3). Build, Hack, and Defend Azure Identity - An Introduction to PurpleCloud Hybrid + Identity Cyber Range PurpleCloud is a Hybrid + Identity Cyber Security Range built for Azure Cloud with automated deployment scripts. SANS. Retrieved May 18, 2024 from https://www.sans.org/blog/build-hack-defend-azure-identity/.\u00a0\u21a9</p> </li> <li> <p>Ostrom, Jason. (2024, February 18; commit ec010a6a8b0979f2b63e909b3662ce557cc57615). PurpleCloud. Retrieved May 18, 2024 from https://github.com/iknowjason/PurpleCloud.\u00a0\u21a9</p> </li> </ol>"},{"location":"contact/","title":"Contact Info","text":""},{"location":"contact/#greg-scheidel","title":"Greg Scheidel","text":"<p>Email | scheidelg@gmail.com</p> <p>Twitter | @Greg_Scheidel</p>"},{"location":"contact/#affiliations","title":"Affiliations","text":"<p>SANS Institute | SANS Certified Instructor</p> <p>ECS | Chief Cybersecurity Officer, Cyber Division</p>"},{"location":"contact/#bio","title":"Bio","text":"<p>Greg Scheidel has over 25 years of hands-on experience in IT including desktop and server support, network design and implementation, application development and programming, IT service management, IT security, and information assurance. He currently leads a security program providing a full range of IT security services including SOC, incident management, risk management, penetration testing, forensic and malware analysis, cyber threat intelligence, security engineering, audit and policy SMEs. Greg firmly believes IT and security must serve business needs rather than exist for their own sake, and is passionate about teaching others while expanding and honing his own skills.</p> <p>Greg holds over 30 certifications across IT, ITSM, and IT security and for his own amusement obtains certifications directly meeting every 8507.01 role (two roles to go).</p>"},{"location":"info/","title":"Additional Info","text":""},{"location":"info/#credits","title":"Credits","text":"<p>As noted on the EWB home page, this workshop is based on a series of bonus labs from the SANS course SEC530: Defensible Security Architecture and Engineering: Implementing Zero Trust for the Hybrid Enterprise.<sup>1</sup> Those labs were in turn based on a SANS blog post by Jason Ostrom,<sup>2</sup> and uses Jason's PurpleCloud tool.<sup>3</sup> Jason has continued to do great work </p>"},{"location":"info/#more-on-service-principal-abuse","title":"More on Service Principal Abuse","text":"<p>For further reading on service principal abuse pathways, check out the excellent research authored by Andy Robbins<sup>4</sup> and Dirk-jan Mollema<sup>5</sup>.</p>"},{"location":"info/#sec530-defensible-security-architecture-and-engineering-implementing-zero-trust-for-the-hybrid-enterprise","title":"SEC530: Defensible Security Architecture and Engineering: Implementing Zero Trust for the Hybrid Enterprise","text":"<p>Course Description</p> <p>This course is designed to help students build and maintain a truly defensible security architecture, while taking them on a journey towards implementing Zero Trust principles, pillars and capabilities. There will be a heavy focus on leveraging current infrastructure and investment. Students will learn how to assess, re-configure and validate existing technologies to significantly improve their organizations' prevention, detection and response capabilities, augment visibility, reduce attack surface, and even anticipate attacks in innovative ways. The course will also delve into some of the latest technologies and their capabilities, strengths, and weaknesses. You will come away with recommendations and suggestions that will aid in building a robust security infrastructure, layer by layer, across hybrid environments, as you embark on a journey towards Zero Trust.<sup>1</sup></p> <ol> <li> <p>SANS Institute. (n.d.) SEC530: Defensible Security Architecture and Engineering: Implementing Zero Trust for the Hybrid Enterprise. SANS. Retrieved May 18, 2024 from https://www.sans.org/cyber-security-courses/defensible-security-architecture-and-engineering/.\u00a0\u21a9\u21a9</p> </li> <li> <p>Ostrom, Jason. (2021, June 3). Build, Hack, and Defend Azure Identity - An Introduction to PurpleCloud Hybrid + Identity Cyber Range PurpleCloud is a Hybrid + Identity Cyber Security Range built for Azure Cloud with automated deployment scripts. SANS. Retrieved May 18, 2024 from https://www.sans.org/blog/build-hack-defend-azure-identity/.\u00a0\u21a9</p> </li> <li> <p>Ostrom, Jason. (2024, February 18; commit ec010a6a8b0979f2b63e909b3662ce557cc57615). PurpleCloud. Retrieved May 18, 2024 from https://github.com/iknowjason/PurpleCloud.\u00a0\u21a9</p> </li> <li> <p>Robbins, Andy. (2021, October 12). Azure Privilege Escalation via Service Principal Abuse. Medium. Retrieved May 18, 2024 from https://posts.specterops.io/azure-privilege-escalation-via-service-principal-abuse-210ae2be2a5 \u21a9</p> </li> <li> <p>Mollema, Dirk-jan. (2019, September 16). Azure AD privilege escalation - Taking over default application permissions as Application Admin. Retrieved May 18, 2024 from https://dirkjanm.io/azure-ad-privilege-escalation-application-admin \u21a9</p> </li> </ol>"},{"location":"a1/sec530.bonus.a1/","title":"Azure Account Setup","text":""},{"location":"a1/sec530.bonus.a1/#objectives","title":"Objectives","text":"<ul> <li>Prepare an Azure account and subscription to use for the labs.</li> <li>Create a workbook to keep notes throughout the labs, starting with recording your subscription and tenant IDs.</li> </ul>"},{"location":"a1/sec530.bonus.a1/#introduction","title":"Introduction","text":"<p>In this lab, we'll get ready for our exploration by making sure that you have a valid Azure account and subscription to use for the rest of the labs.</p> <p>An Azure account is associated with an email address and includes contact information and billing details.<sup>1</sup></p> <p>A subscription is an agreement with Microsoft to use one or more Microsoft cloud platforms or services, for which charges accrue based on either a per-user license fee or on cloud-based resource consumption.<sup>2</sup> All Azure resources are associated with one and only one subscription, which in turn is associated with one and only one account.<sup>1</sup> Without a subscription you won't be able to access the Azure cloud services!</p> <p>A Microsoft Entra ID tenant is a reserved Microsoft Entra ID service instance that an organization receives and owns once it signs up for a Microsoft cloud service such as Azure, Microsoft Intune, or Microsoft 365. Each tenant represents an organization, and is distinct and separate from other Microsoft Entra ID tenants.<sup>3</sup></p>"},{"location":"a1/sec530.bonus.a1/#lab-preparation","title":"Lab Preparation","text":"<p>If you're reading these instructions from the online electronic workbook (EWB), then you're connected to the Internet and able to browse the Web - so you should be ready to go!</p>"},{"location":"a1/sec530.bonus.a1/#step-by-step-instructions","title":"Step-by-Step Instructions","text":"1. Decide: Create or Re-Use Account? 2. Create an Azure Account 3. Use an Existing Azure Account 4. Decide: Create or Re-Use Subscription? 5. Create an Azure Subscription 6. Use an Existing Azure Subscription 7. Open Azure-Notes Workbook 8. Record Subscription and Tenant IDs"},{"location":"a1/sec530.bonus.a1/#1-decide-create-or-re-use-account","title":"1. Decide: Create or Re-Use Account?","text":"<p>Completing the workshop labs requires that you have an active Microsft Azure account. To create a new Azure account, you'll need an email address that isn't already associated with an Azure account, and to follow instructions to set up an Azure account for that email address.</p> <p>However, Microsoft Azure is one of the most common cloud platforms that we will encounter<sup>4</sup> and you may already have an Azure account. You can use that account if:</p> <ul> <li> <p>You are able to create, configure, and tear down an Azure subscription in that Azure account.</p> <p>This requires that you have the Owner or Contributor role for the account.</p> </li> <li> <p>You are willing to create, configure, and tear down an Azure subscription in that Azure account.</p> <p>You may not want to be making changes like this to an Azure account used for production purposes -- or you might just be paranoid about making a mistake!</p> </li> <li> <p>You are okay with the potential fees associated with using Azure resources in your existing Azure account.</p> <p>New Azure accounts receive a Free Trial subscription with a $200 USD credit to use in the first 30 days, which is more than enough for this lab. If you use an existing Azure account and have exhausted your credit or are past the first 30 days, then you may incur some fees!</p> <p>During testing, the fees to execute these labs over the period of one week were under $0.50 (50 cents) USD.</p> </li> </ul> <p>Pick an option:</p> <ul> <li> <p>To create a new Azure Account, then move on to task 2. Create an Azure Account.</p> </li> <li> <p>To use an existing Azure account, then jump to task 3. Use an Existing Azure Account.</p> </li> </ul>"},{"location":"a1/sec530.bonus.a1/#2-create-an-azure-account","title":"2. Create an Azure Account","text":"<p>Follow these steps to create a new Azure account for these labs.</p> <p>If you instead wanted to use an existing Azure account, then jump to task 3. Use an Existing Azure Account.</p> <p>Watch Out for Fees!</p> <p>New Azure accounts receive a Free Trial subscription with a $200 USD credit to use in the first 30 days, which is more than enough for this lab. But be mindful of fees that you may incur after the Free Trial subscription expires!</p> <ol> <li> <p>Browse to https://portal.azure.com.</p> <p>URL</p> <pre><code>https://portal.azure.com\n</code></pre> </li> <li> <p>If you are already logged into a Microsoft account, then you will be redirected to the Azure portal home page.</p> <p>Click on the account name near the top-right corner of the web page, and then click on the Sign in with a different account link.</p> <p></p> </li> <li> <p>If you have previously logged into a Microsoft account from this browser, then you will be presented with a Pick an account dialog.</p> <p>Click on the Use another account option.</p> <p></p> </li> <li> <p>You will be presented with a Sign in dialog.  Click on the Create one! link.</p> <p></p> </li> <li> <p>You will be presented with a Create account dialog and prompted to enter an email address.</p> <p>Enter an email address that is not already associated with an Azure account, and then click on the Next command button.</p> <p></p> Dots in Gmail Addresses <p>If your Gmail address is already associated with an Azure account, then you can register a new Azure account with a variant of your Gmail address by inserting one or more period characters inside the email address.</p> <p>An Internet email address or 'addr-spec' consists of a 'local-part' (e.g., mailbox name), followed by an '@' symbol, followed by a domain.<sup>5</sup> For example: 'help@gmail.com' consists of a local-part of 'help' and a domain of 'gmail.com'.</p> <p>Gmail completely ignores any and all period characters inside the local-part.<sup>6</sup> For example, email sent to the following email addresses will all be delivered to the same Gmail account:</p> <pre><code>help@gmail.com\nhe.lp@gmail.com\nh.e.l.p@gmail.com\n</code></pre> <p>However, most web services - including Microsoft's Azure account registration - treat these as separate email addresses for purposes of registration and account management.</p> <p>For example, if you already have an Azure account associated with 'help@gmail.com', then you can create a new Azure account associated with 'he.lp@gmail.com'.</p> <p>One downside of this technique: Microsoft may not grant the \"$200 for the first 30 days\" credit to new accounts that (ab)use this feature.</p> Getting a New @outlook.com or @hotmail.com Email Address <p>You can also click on the Get a new email address link to get a new @outlook.com or @hotmail.com email address. That option requires a registration and verification process that is not covered in these instructions.</p> </li> <li> <p>You will be presented with a Create a password dialog and prompted to enter a new password.</p> <p>Enter a strong password or (better yet) passphrase, and click on the Next command button.</p> <p></p> Strong Passwords and Passphrases <p>As of 2024-05-15, this dialog's strong password requirements were:</p> <p>Passwords must have at least 8 characters and contain at least two of the following: uppercase letters, lowercase letters, numbers, and symbols.</p> <p>We strongly recommend using a strong but easy to guess passphrase, in the form of a sentence that readily meets these requirements but is easy to remember. The dialog does accept spaces and punctuation as special characters, so using a sentence is supported.</p> </li> <li> <p>You may be presented with a What's your name? dialog and prompted to submit your first and last name. Enter your information and click on the Next command button.</p> <p></p> </li> <li> <p>You will be presented with a What's your birthdate? dialog and prompted to submit your country/region and birthdate. Enter your information and click on the Next command button.</p> <p></p> </li> <li> <p>You will be presented with a Verify email dialog, and a confirmation email will be sent to your email address.</p> <p>Enter the security code from the confirmation email.</p> <p>Uncheck the check box to receive \"information, tips, and offers about Microsoft products and services.\"</p> <p>Click on the Next command button.</p> <p></p> </li> <li> <p>You will be presented with a puzzle that you must complete to verify you are not a robot. Follow the instructions to complete the puzzle.</p> </li> <li> <p>If you have previously logged into a Microsoft account from this browser, then you will be presented with a Pick an account dialog. Click on the account that you just created.</p> <p></p> </li> <li> <p>You will be presented with the Azure portal home page, with a 'Welcome to Azure' message and an option to 'get started'. Click on the Cancel command button.</p> <p></p> </li> </ol> <p>Congratulations! You just created an Azure account!</p> <p>Now jump to task 5. Create an Azure Subscription.</p>"},{"location":"a1/sec530.bonus.a1/#3-use-an-existing-azure-account","title":"3. Use an Existing Azure Account","text":"<p>Follow these steps to login to an existing Azure account.</p> <p>If you instead wanted to create a new Azure account, then jump back to task 2. Create an Azure Account.</p> <p>Watch Out for Fees!</p> <p>New Azure accounts receive a Free Trial subscription with a $200 USD credit to use in the first 30 days, which is more than enough for this lab. If you use an existing Azure account and have exhausted your credit or are past the first 30 days, then you may incur some fees!</p> <p>During testing, the fees to execute these labs over the period of one week were under $0.50 (50 cents) USD.</p> <p>Before you can login to your existing Azure account, you'll need to collect your Azure account authentication information. For purposes of illustration, we're assuming that you can authenticate using just your email address and password.</p> <ol> <li> <p>Once you acquire your Azure account credentials, you need to login! Open a web browser and browse to the Azure portal at https://portal.azure.com.</p> <p>URL</p> <pre><code>https://portal.azure.com\n</code></pre> </li> <li> <p>If you are already logged into a Microsoft account, then you will be redirected to the Azure portal home page.</p> <p>Click on the account name near the top-right corner of the web page, and then click on the Sign in with a different account link.</p> <p></p> </li> <li> <p>If you have previously logged into a Microsoft account from this browser, then you will be presented with a Pick an account dialog.</p> <p>Click on the Use another account option.</p> <p></p> </li> <li> <p>You will be presented with a Sign in dialog.  Enter your Azure account email address and click on the Next command button.</p> <p></p> </li> <li> <p>You will be presented with an Enter password dialog.  Enter your password and click on the Sign in command button.</p> <p></p> </li> <li> <p>If you are prompted by the browser to \"Save password?\" then click on the Save command button.</p> <p></p> </li> <li> <p>If you are presented with a Stay signed in? dialog, then check the Don't show this again dialog and click on the Yes command button.</p> <p></p> </li> <li> <p>You will be redirected to the Azure portal home page. If you are presented with a 'Welcome to Azure' message and an option to 'get started', then click on the Cancel command button.</p> <p></p> </li> <li> <p>Now you need to confirm that this account is assigned the Global Administrator role. Start by accessing the Azure portal's information on your Microsoft Entra ID environment.</p> <p>Click on the search bar at the top of the page, enter the text 'microsoft entra id', and select the Microsoft Entra ID service from the drop-down.</p> <p>Search Text</p> <pre><code>microsoft entra id\n</code></pre> <p></p> </li> <li> <p>The Default Directory page will open. Click on the Roles and admininstrators option in the left-hand pane.</p> <p></p> </li> <li> <p>The Roles and administrators page will open. You should see that your account has the role of Global Administrator.</p> <p></p> </li> </ol> <p>If your account does not have the role of Global Administrator, then you will probably need to jump back to task 2. Create an Azure Account and create a new Azure account.</p> <p>Congratulations! You have logged into your Azure account!</p> <p>This task probably wasn't that challenging -- but it is the foundation upon which the rest of our work in Azure will be built!\"</p> <p>Now move on to task 4. Decide: Create or Re-Use Subscription?.</p>"},{"location":"a1/sec530.bonus.a1/#4-decide-create-or-re-use-subscription","title":"4. Decide: Create or Re-Use Subscription?","text":"<p>If you used an existing Azure account, then you'll probably still want to create a new subscription so that the resources for these labs are separate from your existing Azure resources. But who knows - maybe you like to live dangerously!</p> <p>Pick an option:</p> <ul> <li> <p>To create a new Azure subscription, then move onto task 5. Create an Azure Subscription.</p> </li> <li> <p>To use an existing Azure account, then jump to task 6. Use an Existing Azure Subscription.</p> </li> </ul>"},{"location":"a1/sec530.bonus.a1/#5-create-an-azure-subscription","title":"5. Create an Azure Subscription","text":"<p>Your next task is to create an active Azure subscription for your account!</p> <p>If you instead wanted to use an existing Azure subscription, then jump to task 6. Use an Existing Azure Subscription.</p> <p>At this point you should be logged into and viewing the Azure portal home page (https://portal.azure.com).</p> <ol> <li> <p>Click on the search bar at the top of the page, enter the text 'subscriptions', and select the Subscriptions service from the drop-down.</p> <p>Search Text</p> <pre><code>subscriptions\n</code></pre> <p></p> </li> <li> <p>The Subscriptions page will open. Click on the Add option.</p> <p></p> </li> <li> <p>If a 'select an offer for your subscription' prompt appears on the right hand side of the page, click on the Start free command button.</p> <p></p> </li> <li> <p>Your browser may be redirected and require you to pick an account for login.  If you have multiple Azure accounts, be sure to select the correct account.</p> <p></p> </li> <li> <p>You will be presented with a series of pages to Create your Azure free account. This process will require you to input your name, full mailing address, email address, phone number and credit card. Follow all directions and complete all information.</p> <p>Some useful notes:</p> <ul> <li> <p>Phone Number Verification is required, via text message or a voice call.</p> </li> <li> <p>You must agree to the Customer agreement.</p> </li> <li> <p>You do not have to agree to let Microsoft share your information with partners.</p> </li> <li> <p>Credit card information is used for identity verification and will not be charged during the free credit trial.</p> <p>Watch out for Fees!</p> <p>If you continue using Azure with this account after the 30-day trial, then you may incur fees!</p> Virtual Credit Card Numbers <p>Some credit card issuers allow you to generate 'virtual' card number associated with your primary account, often with features such as an earlier expiration date than your primary card number, a lower credit limit than your primary card number, and association with a single merchant so that the card number can't be stolen and re-used at another merchant. You may want to check wheter your credit card issuer provides this service, and use a virtual card number here.</p> Azure Cost Monitoring <p>Azure allows you to monitor cost and usage of your Azure account, including receiving alerts when costs exceed a user-defined threshold.<sup>7</sup></p> </li> <li> <p>Decline technical support if you are prompted to add it to your subscription</p> </li> <li> <p>At the end of the subscription registration process, you may be prompted for final verification and/or to select your Azure account again.</p> </li> <li> <p>When the subscription registration is complete, your browser will be redirected to an Azure Quickstart Center page.</p> <p></p> </li> </ul> </li> <li> <p>Click on the search bar at the top of the page, enter the text 'subscriptions', and select the Subscriptions service from the drop-down.</p> <p>Search Text</p> <pre><code>subscriptions\n</code></pre> <p></p> </li> <li> <p>On the Azure portal's Subscriptions page, you should see the new subscription with a title similar to 'Azure Subscription 1', and a status of 'Active'.</p> <p></p> </li> </ol> <p>Congratulations! You now have an active Azure subscription!</p> <p>Now jump to task 7. Open Azure-Notes Workbook.</p>"},{"location":"a1/sec530.bonus.a1/#6-use-an-existing-azure-subscription","title":"6. Use an Existing Azure Subscription","text":"<p>This task guides you through finding your existing subscription.</p> <p>If you instead wanted to create a new Azure subscription, then jump back to task 5. Create an Azure Subscription.</p> <p>At this point you should be logged into and viewing the Azure portal home page (https://portal.azure.com).</p> <ol> <li> <p>Click on the search bar at the top of the page, enter the text 'subscriptions', and select the Subscriptions service from the drop-down.</p> <p>Search Text</p> <pre><code>subscriptions\n</code></pre> <p></p> </li> <li> <p>On the Azure portal's Subscriptions page, you should see at least one subscription with a long hexadecimal Subscription ID and a Status of 'Active'.</p> <p></p> <p>If you see more than one active subscription, then you'll need to drill into each of those subscriptions to identify which subscription you want to use.</p> <p>Make note of the desired subscription name and ID!</p> </li> </ol> <p>Now move on to task 7. Open Azure-Notes Workbook.</p>"},{"location":"a1/sec530.bonus.a1/#7-open-azure-notes-workbook","title":"7. Open Azure-Notes Workbook","text":"<p>This series of labs references a Microsoft Excel workbook that you use to record information about your Azure account and environment. The workbook is available online as a read-only document, so you'll want to make a copy in your own Microsoft account's OneDrive.</p> <p>At this point you should be logged into the Azure portal and viewing the Subscriptions page (https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade).</p> <ol> <li> <p>In the same browser you are using to access the Azure portal, open a new tab.</p> </li> <li> <p>In the new tab, browse to https://bit.ly/azure-notes.</p> <p>URL</p> <pre><code>https://bit.ly/azure-notes\n</code></pre> </li> <li> <p>The authentication to the Azure portal and Microsoft Excel online are independent, so you will be prompted to authenticate to your Microsoft account.</p> <p>Complete the authentication prompts, including answering 'Yes' on the Stay signed in? dialog.</p> </li> <li> <p>The <code>Azure-Notes.xlsx</code> workbook will open in the web browser.</p> <p></p> </li> <li> <p>Before working with the workbook, double-check to make sure that you are accessing Microsoft Excel online with the correct Microsoft account.</p> <p>Click on the user initials near the top-right corner of the web application window. The displayed email address should match the email address associated with your Azure account.</p> <p>If it does, then click on the user initials again.</p> <p></p> If the displayed email address does not match the email address associated with your Azure account, then: <ul> <li>Click on the Sign out link.</li> <li>Close the browser tab in which Microsoft Excel online was opened.</li> <li>Go back to this task's step 1.</li> </ul> </li> <li> <p>Now let's create a copy of the Azure-Notes workbook that you can edit.</p> <p>Click on the Edit a copy button, near the top-right corner of the web application window.</p> <p></p> <p>A copy of the workbook will be saved to your Microsoft account's OneDrive. After a minute, the window will refresh to allow you to work with that copy of the workbook.</p> <p>If the window doesn't refresh after a minute, then simply refresh your browser window.</p> </li> </ol> Conserving Screen Real Estate <p>You may find it easier to work with the workbook by changing Microsoft Excel online's Show Ribbon option to Automatically Hide.</p> <p></p> <p>You can reveal the ribbon by hovering hte mouse pointer over the user initials near the top-right of the web application window.</p>"},{"location":"a1/sec530.bonus.a1/#8-record-subscription-and-tenant-ids","title":"8. Record Subscription and Tenant IDs","text":"<p>We'll need the subscription's subscription ID and tenant ID in later labs, so let's take a moment now to save those values in the Azure-Notes workbook.</p> <ol> <li> <p>Switch back to the browser tab accessing the Azure portal's Subscriptions page. On that page, find the subscription that you are using for this workshop and click on the associated Subscription name to view the subscriptioion details.</p> <p></p> </li> <li> <p>On the subscription details web page, hover the mouse pointer to the right of the Subscription ID value, and click on the 'copy' icon.</p> <p></p> </li> <li> <p>Switch to the Azure-Notes workbook, and paste the subscription ID into the appropriate Azure Property Value cell.</p> <p></p> </li> <li> <p>We also want to save the tenant ID. Switch back to the Azure portal browser tab. </p> <p>Click on the search bar at the top of the page, enter the text 'tenant', and select the Tenant properties service from the drop-down.</p> <p>Search Text</p> <pre><code>tenant\n</code></pre> <p></p> <p>This will open the Tenant Properties page.</p> </li> <li> <p>Find the Tenant ID field, hover the mouse pointer to the right of the tenant ID value, and click on the 'copy' icon.</p> <p></p> </li> <li> <p>Switch to the Azure-Notes workbook, and paste the tenant ID into the appropriate Azure Property Value cell.</p> <p></p> </li> </ol> <p>Congratulations and nice work! You have successfully completed all the tasks in this lab, and are ready for the remaining Azure labs.</p>"},{"location":"a1/sec530.bonus.a1/#conclusion","title":"Conclusion","text":"<p>In this lab, you either:</p> <ul> <li> <p>created an Azure account and subscription; or</p> </li> <li> <p>logged into an existing account and either:</p> <ul> <li>created an Azure subscription;</li> <li>or verified that you can access an existing subscription.</li> </ul> </li> </ul> <p>You then saved a copy of a Microsoft Excel workbook in your OneDrive storage, and updated it with your Azure subscription ID and tenant ID.</p> <p>In the next Azure lab, you'll leverage your subscription by creating and using Azure resources!</p> <ol> <li> <p>Microsoft. (2023, October 09). Azure fundamental concepts. Microsoft Learn. Retrieved May 18, 2024 from https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/considerations/fundamental-concepts.\u00a0\u21a9\u21a9</p> </li> <li> <p>Microsoft. (2023, October 20) Subscriptions, licenses, accounts, and tenants for Microsoft's cloud offerings. Microsoft Learn. Retrieved May 18, 2024 from https://learn.microsoft.com/en-us/microsoft-365/enterprise/subscriptions-licenses-accounts-and-tenants-for-microsoft-cloud-offerings?view=o365-worldwide.\u00a0\u21a9</p> </li> <li> <p>Microsoft. (2023, December 21). Create an Azure Active Directory tenant to use with Power BI. Microsoft Learn. Retrieved May 18, 2024 from https://learn.microsoft.com/en-us/power-bi/developer/embedded/create-an-azure-active-directory-tenant.\u00a0\u21a9</p> </li> <li> <p>Megaport. (2022, November 8). AWS, Azure, and google cloud: The big three compared. Megaport. Retrieved May 18, 2024 from https://www.megaport.com/blog/aws-azure-google-cloud-the-big-three-compared/.\u00a0\u21a9</p> </li> <li> <p>Resnick, P. (2001, April). Internet Message Format. IETF Datatracker. Retrieved May 18, 2024, from https://datatracker.ietf.org/doc/html/rfc2822#section-3.4.1.\u00a0\u21a9</p> </li> <li> <p>Google. (n.d.). Dots don\u2019t matter in Gmail addresses - gmail help. Google. Retrieved May 18, 2024 from https://support.google.com/mail/answer/7436150?hl=en#:~:text=If%20someone%20accidentally%20adds%20dots,john.smith%40gmail.com.\u00a0\u21a9</p> </li> <li> <p>Microsoft. (2024, April 7). Azure monitor cost and usage. Microsoft Learn. Retrieved May 18, 2024 from https://learn.microsoft.com/en-us/azure/azure-monitor/cost-usage.\u00a0\u21a9</p> </li> </ol>"},{"location":"a2/sec530.bonus.a2/","title":"Azure Environment Setup","text":"<p>This lab hasn't been released to the workshop yet. But don't worry - We'll get to it later today! </p>"},{"location":"a3/sec530.bonus.a3/","title":"Azure Manual Reconnaissance","text":"<p>This lab hasn't been released to the workshop yet. But don't worry - We'll get to it later today! </p>"},{"location":"a4/sec530.bonus.a4/","title":"Azure Privilege Escalation","text":"<p>This lab hasn't been released to the workshop yet. But don't worry - We'll get to it later today! </p>"},{"location":"a5/sec530.bonus.a5/","title":"Azure Teardown","text":"<p>This lab hasn't been released to the workshop yet. But don't worry - We'll get to it later today! </p>"}]}